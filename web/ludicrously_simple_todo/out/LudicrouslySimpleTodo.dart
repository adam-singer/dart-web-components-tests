// Auto-generated from LudicrouslySimpleTodo.html.
// DO NOT EDIT.

library LudicrouslySimpleTodo_html;

import 'dart:html' as autogenerated;
import 'package:web_components/web_components.dart' as autogenerated;

import '../models.dart';

import 'dart:html';

import 'TodoItemComponent.dart';


// Original code
List<TodoItem> todoItems = new List<TodoItem>();

createNewTodo(e) {
  var newTodo = query('#new-todo') as InputElement;
  todoItems.add(new TodoItem(newTodo.value));
  newTodo.value = '';
}

main() { }


// Additional generated code
/** Create the views and bind them to models. */
void init_autogenerated() {
  // Create view.
  var _root = new autogenerated.DocumentFragment.html(_INITIAL_PAGE);

  autogenerated.InputElement _newTodo;
  
  autogenerated.ButtonElement __e0;
  
  autogenerated.EventListener _listener__e0_click_1;
  
  autogenerated.UListElement _todos;
  
  autogenerated.UnknownElement __e3;
  
  List<autogenerated.WatcherDisposer> _stoppers2;
  
  List<Function> _removeChild__e3 = [];
  
  autogenerated.Node _endPosition__e3;
  


  // Initialize fields.
  _newTodo = _root.query('#new-todo');
  __e0 = _root.query('#__e-0');
  _todos = _root.query('#todos');
  __e3 = _todos.query('#__e-3');
  _stoppers2 = [];
  

  // Attach model to views.
  _listener__e0_click_1 = (__e) {
    createNewTodo(__e);
    autogenerated.dispatch();
  };
  __e0.on.click.add(_listener__e0_click_1);
  
  _endPosition__e3 = __e3;
  
  _stoppers2.add(autogenerated.watchAndInvoke(() => todoItems, (_) {
    for (var remover in _removeChild__e3) remover();
    _removeChild__e3.clear();
    
    _endPosition__e3 = autogenerated.removeNodes(__e3, _endPosition__e3);
    
    var __insert___e3 = __e3.nextNode;
    
    for (var x in todoItems) {
      
      autogenerated.LIElement __e2;
      autogenerated.UnknownElement __e1;
      
      __e2 = new autogenerated.Element.html('<li><x-todo-item id="__e-1"></x-todo-item></li>');
      __e1 = __e2.query('#__e-1');
      var component__e1 = new TodoItemComponent.forElement(__e1);
      component__e1.todo = x;
      component__e1.created_autogenerated();
      component__e1.created();
      component__e1.composeChildren();
      
      autogenerated.insertAllBefore(__e3.parent, __insert___e3,
      
      [_endPosition__e3 = __e2]);
      
      __e1.xtag.inserted();
      __e1.xtag.inserted_autogenerated();
      
      _removeChild__e3.add(() {
        
        __e2 = null;
        __e1.xtag.removed_autogenerated();
        __e1.xtag.removed();
        __e1 = null;
        
      });
    }
  }));
  


  // Attach view to the document.
  autogenerated.document.body.nodes.add(_root);
  _root = autogenerated.document.body;
}

final String _INITIAL_PAGE = '''

    <h1>LudicrouslySimpleTodo</h1>
    
    <input type="text" id="new-todo">
    <button id="__e-0">Create New Todo</button>
    
    <ul id="todos">
      <template id="__e-3" style="display:none"></template>
    </ul>

    
    <script src="../dart.js"></script>
  

''';
