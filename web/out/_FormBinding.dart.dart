// Auto-generated from FormBinding.html.
// DO NOT EDIT.

library FormBinding_html;

import 'dart:html' as autogenerated;
import 'package:web_components/watcher.dart' as autogenerated;

import 'dart:math';


// Original code
String superlative;

List<String> alternatives = const ['wicked cool', 'sweet', 'fantastic'];
Random random = new Random();

main() {
  superlative = 'awesome';
}

changeIt(e) => superlative = alternatives[random.nextInt(3)];

// Additional generated code

autogenerated.ParagraphElement __e0;

autogenerated.WatcherDisposer _stopWatcher__e0_1;

autogenerated.InputElement __e1;

autogenerated.EventListener _listener__e1_input_2;

autogenerated.WatcherDisposer _stopWatcher__e1_3;

autogenerated.ButtonElement _changeIt;

autogenerated.EventListener _listener_changeIt_click_4;


/** Create the views and bind them to models. */
void init_autogenerated() {
  // Create view.
  var _root = new autogenerated.DocumentFragment.html(_INITIAL_PAGE);

  // Initialize fields.
  __e0 = _root.query('#__e-0');
  
  __e1 = _root.query('#__e-1');
  
  _changeIt = _root.query('#change-it');
  

  // Attach model to views.
  _stopWatcher__e0_1 = autogenerated.watchAndInvoke(() =>  superlative , (e) {
    __e0.innerHTML = 'MDV is ${ superlative }';
  });
  
  _listener__e1_input_2 = (e) {
    superlative = __e1.value;
    autogenerated.dispatch();
  };
  __e1.on.input.add(_listener__e1_input_2);
  
  _stopWatcher__e1_3 = autogenerated.watchAndInvoke(() => superlative, (e) {
    __e1.value = e.newValue;
  });
  
  _listener_changeIt_click_4 = (e) {
    changeIt(e);
    autogenerated.dispatch();
  };
  _changeIt.on.click.add(_listener_changeIt_click_4);
  


  // Attach view to the document.
  autogenerated.document.body.nodes.add(_root);
  _root = autogenerated.document.body;
}

final String _INITIAL_PAGE = '''

    <h1>Hello MDV: Form Binding</h1>
    
    <p id="__e-0"></p>
    
    <div>
      <input type="text" placeholder="Enter superlative" id="__e-1">
    </div>
    
    <button id="change-it">Change</button>
    
    
    <script src="../dart.js"></script>
  

''';
